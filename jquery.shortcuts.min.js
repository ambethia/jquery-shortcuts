jQuery.fn.shortcuts=function(keys){var self=this;this.pressed=new Array();jQuery(document).keydown(function(event){self.pressed.push(event.keyCode);for(combo in keys){if(!self.focused&&self.compare(keys[combo].keys,self.pressed)){keys[combo].func();};};});jQuery(document).keyup(function(event){self.pressed.splice(jQuery.inArray(event.keyCode,self.pressed),1);});jQuery("input, select, textarea").bind("focus blur",function(event){self.focused=event.type=="focus";})
this.compare=function(a,b){if(a.length!=b.length)return false;a.sort();b.sort();for(var i=0;i<a.length;i++){if(a[i]!=b[i])return false;};return true;}
return this;};